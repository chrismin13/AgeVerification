<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Age Verification</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <style>
        body {
            background-color: #f5f5f5;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        .verification-container {
            display: none; /* Hide until content is set */
            text-align: center;
            padding: 20px;
            border-radius: 10px;
            background: white;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        .btn-custom {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="verification-container" id="verificationContainer">
        <h1 id="title">Age Verification</h1>
        <p id="description">You must be of a certain age to access this content.</p>
        <a href="#" class="btn btn-custom" id="returnBtn">Return to Website</a>
    </div>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script>
        $(document).ready(function() {
            // Function to get URL parameters
            function getUrlParameter(name) {
                name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
                var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
                var results = regex.exec(location.search);
                return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
            }

            // Set the language of the page
            function setLanguage(lang) {
                const messages = {
                    "en-US": {
                        title: "Age Verification",
                        description: "You must be at least {age} years old to access this site.",
                    },
                    "el-GR": {
                        title: "Επαλήθευση Ηλικίας",
                        description: "Πρέπει να είστε τουλάχιστον {age} ετών για να έχετε πρόσβαση σε αυτόν τον ιστότοπο.",
                    },
                    // Add more languages here
                };

                const age = getUrlParameter('age') || '18'; // Default age
                const langMessages = messages[lang] || messages["en-US"]; // Default to English
                $('#title').text(langMessages.title);
                $('#description').text(langMessages.description.replace('{age}', age));
            }

            // Set accent color
            function setAccentColor(color) {
                $('.btn-custom').css('background-color', '#' + color);
            }

            // Set return URL
            function setReturnUrl(origin) {
                $('#returnBtn').attr('href', 'http://' + origin);
            }

            // Initialize page with URL parameters and show content
            function initPage() {
                const lang = getUrlParameter('lang');
                const accentColor = getUrlParameter('accent');
                const origin = getUrlParameter('origin');
                setLanguage(lang);
                setAccentColor(accentColor);
                setReturnUrl(origin);
                
                // Show the content after initialization
                $('#verificationContainer').css('display', 'block');
            }

            initPage();
        });
    </script>
</body>
</html>
